<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hexagonal Board Game</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background-color: #f0f0f0;
            font-family: Arial, sans-serif;
        }
        
        #gameCanvas {
            border: 2px solid #333;
            background-color: #87CEEB;
            cursor: crosshair;
        }
        
        .controls {
            margin-top: 10px;
        }
        
        button {
            padding: 8px 16px;
            margin-right: 10px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <h1>Hexagonal Board Game</h1>
    <canvas id="gameCanvas" width="800" height="600"></canvas>
    
    <div class="controls">
        <button onclick="drawBoard()">Redraw Board</button>
        <button onclick="clearCanvas()">Clear</button>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        
        const BOARD_CONFIG = {
            hexRadius: 30,
            hexWidth: 0,
            hexHeight: 0,
            boardWidth: 11,
            boardHeight: 11,
            offsetX: 100,
            offsetY: 50
        };
        
        BOARD_CONFIG.hexWidth = Math.sqrt(3) * BOARD_CONFIG.hexRadius;
        BOARD_CONFIG.hexHeight = 2 * BOARD_CONFIG.hexRadius;
        
        class HexagonalBoard {
            constructor(canvas, config) {
                this.canvas = canvas;
                this.ctx = canvas.getContext('2d');
                this.config = config;
                this.hexagons = [];
                
                this.initializeBoard();
            }
            
            initializeBoard() {
                this.hexagons = [];
                
                for (let row = 0; row < this.config.boardHeight; row++) {
                    for (let col = 0; col < this.config.boardWidth; col++) {
                        const hex = this.createHexagon(row, col);
                        if (hex) {
                            this.hexagons.push(hex);
                        }
                    }
                }
            }
            
            createHexagon(row, col) {
                const isEvenRow = row % 2 === 0;
                const x = this.config.offsetX + col * this.config.hexWidth + (isEvenRow ? 0 : this.config.hexWidth / 2);
                const y = this.config.offsetY + row * this.config.hexHeight * 0.75;
                
                if (x - this.config.hexRadius < 0 || x + this.config.hexRadius > this.canvas.width || 
                    y - this.config.hexRadius < 0 || y + this.config.hexRadius > this.canvas.height) {
                    return null;
                }
                
                return {
                    row: row,
                    col: col,
                    x: x,
                    y: y,
                    radius: this.config.hexRadius
                };
            }
            
            drawHexagon(hex) {
                const { x, y, radius } = hex;
                
                this.ctx.beginPath();
                
                for (let i = 0; i < 6; i++) {
                    const angle = (Math.PI / 3) * i + (Math.PI / 6);
                    const hexX = x + radius * Math.cos(angle);
                    const hexY = y + radius * Math.sin(angle);
                    
                    if (i === 0) {
                        this.ctx.moveTo(hexX, hexY);
                    } else {
                        this.ctx.lineTo(hexX, hexY);
                    }
                }
                
                this.ctx.closePath();
                this.ctx.strokeStyle = '#2c3e50';
                this.ctx.lineWidth = 2;
                this.ctx.stroke();
                
                this.ctx.fillStyle = '#ecf0f1';
                this.ctx.fill();
                
                this.ctx.fillStyle = '#2c3e50';
                this.ctx.font = '12px Arial';
                this.ctx.textAlign = 'center';
                this.ctx.fillText(`${hex.row},${hex.col}`, x, y + 4);
            }
            
            draw() {
                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                
                this.hexagons.forEach(hex => {
                    this.drawHexagon(hex);
                });
            }
            
            getHexagonAt(mouseX, mouseY) {
                return this.hexagons.find(hex => {
                    const distance = Math.sqrt(
                        Math.pow(mouseX - hex.x, 2) + Math.pow(mouseY - hex.y, 2)
                    );
                    return distance <= hex.radius;
                });
            }
        }
        
        const board = new HexagonalBoard(canvas, BOARD_CONFIG);
        
        function drawBoard() {
            board.draw();
        }
        
        function clearCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }
        
        canvas.addEventListener('click', function(event) {
            const rect = canvas.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;
            
            const clickedHex = board.getHexagonAt(x, y);
            if (clickedHex) {
                console.log(`Clicked hexagon at row: ${clickedHex.row}, col: ${clickedHex.col}`);
            }
        });
        
        drawBoard();
    </script>
</body>
</html>